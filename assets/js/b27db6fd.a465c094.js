"use strict";(self.webpackChunkjosp_docs=self.webpackChunkjosp_docs||[]).push([[6848],{3905:(e,t,r)=>{r.d(t,{Zo:()=>d,kt:()=>m});var n=r(67294);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var c=n.createContext({}),l=function(e){var t=n.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):s(s({},t),e)),r},d=function(e){var t=l(e.components);return n.createElement(c.Provider,{value:t},e.children)},u="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},f=n.forwardRef((function(e,t){var r=e.components,i=e.mdxType,o=e.originalType,c=e.parentName,d=a(e,["components","mdxType","originalType","parentName"]),u=l(r),f=i,m=u["".concat(c,".").concat(f)]||u[f]||p[f]||o;return r?n.createElement(m,s(s({ref:t},d),{},{components:r})):n.createElement(m,s({ref:t},d))}));function m(e,t){var r=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=r.length,s=new Array(o);s[0]=f;var a={};for(var c in t)hasOwnProperty.call(t,c)&&(a[c]=t[c]);a.originalType=e,a[u]="string"==typeof e?e:i,s[1]=a;for(var l=2;l<o;l++)s[l]=r[l];return n.createElement.apply(null,s)}return n.createElement.apply(null,r)}f.displayName="MDXCreateElement"},28482:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>p,frontMatter:()=>o,metadata:()=>a,toc:()=>l});var n=r(87462),i=(r(67294),r(3905));const o={},s="Objects Resources",a={unversionedId:"create_your_own_jod_distribution/configuration/object_resources",id:"create_your_own_jod_distribution/configuration/object_resources",title:"Objects Resources",description:"All files contained in the `dists/resources` directory will be copied to the destination distribution.",source:"@site/3_references/5_tools/1_jod_dist_template/2_create_your_own_jod_distribution/3_configuration/5_object_resources.mdx",sourceDirName:"2_create_your_own_jod_distribution/3_configuration",slug:"/create_your_own_jod_distribution/configuration/object_resources",permalink:"/references/tools/jod_dist_template/create_your_own_jod_distribution/configuration/object_resources",draft:!1,tags:[],version:"current",sidebarPosition:5,frontMatter:{},sidebar:"toolsSidebar",previous:{title:"Object PRE-POST scripts",permalink:"/references/tools/jod_dist_template/create_your_own_jod_distribution/configuration/pre_post_scripts"},next:{title:"Test JOD Distribution",permalink:"/references/tools/jod_dist_template/create_your_own_jod_distribution/test_jod_distribution"}},c={},l=[{value:"README, CHANGELOG and TODO",id:"readme-changelog-and-todo",level:3},{value:"scripts/PRE-POST",id:"scriptspre-post",level:3},{value:"scripts/hw",id:"scriptshw",level:3},{value:"docs and media",id:"docs-and-media",level:3}],d={toc:l},u="wrapper";function p(e){let{components:t,...r}=e;return(0,i.kt)(u,(0,n.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"objects-resources"},"Objects Resources"),(0,i.kt)("p",null,"All files contained in the ",(0,i.kt)("inlineCode",{parentName:"p"},"dists/resources")," directory will be copied to the destination distribution."),(0,i.kt)("p",null,"So you can add all required resources, script and files into this directory. It includes also JOD Distribution's documentation."),(0,i.kt)("p",null,"The JOD Dist TMPl provide also a set of example files and dirs that can be used in your distribution. You can recognize those files because they are contained in the ",(0,i.kt)("inlineCode",{parentName:"p"},"dists/resources/")," dir and have the suffix ",(0,i.kt)("inlineCode",{parentName:"p"},"_EXMPL"),". To activate them and use in your distribution, rename required files and dirs and remove the ",(0,i.kt)("inlineCode",{parentName:"p"},"_EXMPL")," suffix. Other example's files and dirs can be safely deleted."),(0,i.kt)("h3",{id:"readme-changelog-and-todo"},"README, CHANGELOG and TODO"),(0,i.kt)("p",null,"Those files allow End User understand and use your JOD Distribution."),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"README.md")," file is the starting point for the end user when he works with your distribution, he looks for distribution's requirements and configs. So, when you describe your distribution, include also requirements specifications and configs descriptions. Here you can also add link to a documentation websites, like to the installation or hardware purchase/DIY pages."),(0,i.kt)("p",null,"For each of those files the JOD Dist TMPL provide an example file. Rename it and editing according your distribution specifications."),(0,i.kt)("h3",{id:"scriptspre-post"},"scripts/PRE-POST"),(0,i.kt)("p",null,"In the ",(0,i.kt)("inlineCode",{parentName:"p"},"dists/resources/scripts")," dir you can find the example files for all PRE-POST scripts. Rename required hooks and add your commands."),(0,i.kt)("p",null,"You can find examples and more details on PRE-POST scripts configuration at the ",(0,i.kt)("a",{parentName:"p",href:"pre_post_scripts"},"PRE-POST Script")," page."),(0,i.kt)("h3",{id:"scriptshw"},"scripts/hw"),(0,i.kt)("p",null,"By default, distribution firmware is placed in the ",(0,i.kt)("inlineCode",{parentName:"p"},"dists/resources/scripts/hw")," directory. Here you can put scripts, executables and related resources. Then you can easily access them from ",(0,i.kt)("a",{parentName:"p",href:"object_structure#states-and-actions"},"FirmwareProtocol"),"'s configuration."),(0,i.kt)("p",null,"JOD Agent is always executed using ",(0,i.kt)("inlineCode",{parentName:"p"},"start.sh"),"'s directory as working dir. That means FirmwareProtocols's configurations can referer to firmware scripts or other resources with the relative path ",(0,i.kt)("inlineCode",{parentName:"p"},"scripts/hw/*"),". In the following example a ",(0,i.kt)("inlineCode",{parentName:"p"},"RangeState")," pillar is configured with 'shell' FirmwareProtocol to use ",(0,i.kt)("inlineCode",{parentName:"p"},"scripts/hw/cpu_mpstat.sh")," script for pulling ",(0,i.kt)("inlineCode",{parentName:"p"},"RangeState"),"'s value."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="struct.jod: RangeState/Shell @ JOD PC Linux"',title:'"struct.jod:',"RangeState/Shell":!0,"@":!0,JOD:!0,PC:!0,'Linux"':!0},'"CPU MPStat" : {\n    "type": "RangeState",\n    "puller" : "shell://cmd=scripts/hw/cpu_mpstat.sh;freq=30",\n    "min": "0",\n    "max": "100"\n}\n')),(0,i.kt)("h3",{id:"docs-and-media"},"docs and media"),(0,i.kt)("p",null,"Those directories are default location for detailed docs and media resources."))}p.isMDXComponent=!0}}]);