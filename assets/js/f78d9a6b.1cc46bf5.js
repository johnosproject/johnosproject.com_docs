"use strict";(self.webpackChunkjosp_docs=self.webpackChunkjosp_docs||[]).push([[2500],{3905:(e,t,n)=>{n.d(t,{Zo:()=>l,kt:()=>b});var r=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=r.createContext({}),p=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},l=function(e){var t=p(e.components);return r.createElement(c.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,c=e.parentName,l=i(e,["components","mdxType","originalType","parentName"]),d=p(n),h=o,b=d["".concat(c,".").concat(h)]||d[h]||u[h]||a;return n?r.createElement(b,s(s({ref:t},l),{},{components:n})):r.createElement(b,s({ref:t},l))}));function b(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,s=new Array(a);s[0]=h;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i[d]="string"==typeof e?e:o,s[1]=i;for(var p=2;p<a;p++)s[p]=n[p];return r.createElement.apply(null,s)}return r.createElement.apply(null,n)}h.displayName="MDXCreateElement"},3921:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>u,frontMatter:()=>a,metadata:()=>i,toc:()=>p});var r=n(87462),o=(n(67294),n(3905));const a={title:"Object's ID"},s="JOD Object's ID",i={unversionedId:"jod/specs/object_id",id:"jod/specs/object_id",title:"Object's ID",description:"The Object ID is the unique code that identify a JOSP Object in a JOSP EcoSystem.",source:"@site/3_references/1_josp/1_jod/4_specs/1_object_id.mdx",sourceDirName:"1_jod/4_specs",slug:"/jod/specs/object_id",permalink:"/references/josp/jod/specs/object_id",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"Object's ID"},sidebar:"referencesSidebar",previous:{title:"Communication",permalink:"/references/josp/jod/comm"},next:{title:"Configs",permalink:"/references/josp/jod/specs/configs"}},c={},p=[{value:"Uniqueness",id:"uniqueness",level:2},{value:"Usage by JOSP Services",id:"usage-by-josp-services",level:2}],l={toc:p},d="wrapper";function u(e){let{components:t,...n}=e;return(0,o.kt)(d,(0,r.Z)({},l,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"jod-objects-id"},"JOD Object's ID"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"The Object ID is the unique code that identify a ",(0,o.kt)("a",{parentName:"strong",href:"/what/josp/object"},"JOSP Object")," in a ",(0,o.kt)("a",{parentName:"strong",href:"/what/josp/ecosystem"},"JOSP EcoSystem")),"."),(0,o.kt)("p",null,"This code is generated on first object's startup and it's updated only when a user change his owner."),(0,o.kt)("p",null,"Object's id generation triggers also a re-generation of ",(0,o.kt)("a",{parentName:"p",href:"permissions"},"object's permission"),".",(0,o.kt)("br",null),"\nThat provide a completely refreshed JOSP Object to the new object's owner. And, at the sametime, guarantee to the old object's owner that the data collected by object (until the owner switch) can't be accessible to the new owner."),(0,o.kt)("p",null,"The object's id is composed by 3 sequences of 5 random chars each:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"XXXXX-XXXXX-XXXXX\n")),(0,o.kt)("p",null,"JOD Agent store his object's id in the main config file ",(0,o.kt)("inlineCode",{parentName:"p"},"configs/jod.yml")," with the property ",(0,o.kt)("inlineCode",{parentName:"p"},"jod.obj.id_cloud"),"."),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"If you are using the JOD Agent inside a ",(0,o.kt)("a",{parentName:"p",href:"/references/tools/jod_dist_template/"},"JOD Distribution")," you can execute the ",(0,o.kt)("inlineCode",{parentName:"p"},"state.sh|ps1")," ",(0,o.kt)("a",{parentName:"p",href:"https://bitbucket.org/johnosproject_shared/com.robypomper.josp.jod.template/src/develop/docs/dists/dists.md"},"JOD Dist Cmds")," to print corresponding object's id.")),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"uniqueness"},"Uniqueness"),(0,o.kt)("p",null,"To guarantee that each JOSP Object have an unique id, the code generation is demanded to the ",(0,o.kt)("a",{parentName:"p",href:"/references/josp/jcp/"},"John Cloud Platform"),"."),(0,o.kt)("p",null,"Each time a JOD Agent starts, check the ",(0,o.kt)("inlineCode",{parentName:"p"},"jod.obj.id_cloud")," property in the ",(0,o.kt)("inlineCode",{parentName:"p"},"configs/jod.yml")," file.\nIf it's empty or not set, then the JOD Agent ask the ",(0,o.kt)("a",{parentName:"p",href:"/references/josp/jcp/microservices/apis/"},"JCP APIs")," for a new unique code."),(0,o.kt)("p",null,"Generated code will always starts with the ",(0,o.kt)("inlineCode",{parentName:"p"},"jod.obj.id_hw")," property from ",(0,o.kt)("inlineCode",{parentName:"p"},"configs/jod.yml")," file.\nBecause the 'id_hw' property, never change, that allow JOSP Services identify the object across object's id switches."),(0,o.kt)("p",null,"If the JCP is not available at JOD Agent startup, for example because there is NO internet connection, the JOD Agent use a temporary object's id with the format ",(0,o.kt)("inlineCode",{parentName:"p"},"XXXXX-00000-00000")," where the 'XXXXX' correspond to the ",(0,o.kt)("inlineCode",{parentName:"p"},"jod.obj.id_hw")," property from ",(0,o.kt)("inlineCode",{parentName:"p"},"configs/jod.yml")," file.\nThen, when the internet connection become available, the JOD Agent update his temporary object's id with a new one generated by the JCP."),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"usage-by-josp-services"},"Usage by JOSP Services"),(0,o.kt)("p",null,"A JOSP Service use an object's id mainly to interact with that object: to get object's info, structure, statuses or permissions and to execute object's actions.",(0,o.kt)("br",null),"\nDevelopers can store object's ids and use them later to refer at same objects."),(0,o.kt)("p",null,"When a user change object's owner, object's become offline for user's JOSP Services but still available.\nSo, user can still access to old JOSP Object's and get his events and statues history, but he can't execute action or receive statuses updates.\nOn the other side, on new owner's JOSP Services, a new JOSP Object become available and online.\nSo, new owner can start interacting with it."),(0,o.kt)("p",null,"Thanks to the object's id nature (first 5 chars sequence is always equals to the ",(0,o.kt)("inlineCode",{parentName:"p"},"jod.obj.id_hw")," property), a JOSP Service can identify the same object also after update his id."))}u.isMDXComponent=!0}}]);