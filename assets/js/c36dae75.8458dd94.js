"use strict";(self.webpackChunkjosp_docs=self.webpackChunkjosp_docs||[]).push([[1797],{3905:(e,t,r)=>{r.d(t,{Zo:()=>c,kt:()=>f});var n=r(67294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var s=n.createContext({}),p=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},c=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,l=e.originalType,s=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),u=p(r),m=a,f=u["".concat(s,".").concat(m)]||u[m]||d[m]||l;return r?n.createElement(f,i(i({ref:t},c),{},{components:r})):n.createElement(f,i({ref:t},c))}));function f(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=r.length,i=new Array(l);i[0]=m;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[u]="string"==typeof e?e:a,i[1]=o;for(var p=2;p<l;p++)i[p]=r[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"},63238:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>d,frontMatter:()=>l,metadata:()=>o,toc:()=>p});var n=r(87462),a=(r(67294),r(3905));const l={slug:"./"},i="JOD Pillars",o={unversionedId:"jod/specs/pillars/index",id:"jod/specs/pillars/index",title:"JOD Pillars",description:"Pillars are the base config element for each feature exposed by a JOSP Object to the JOSP Services.",source:"@site/3_references/1_josp/1_jod/4_specs/5_pillars/0_index.mdx",sourceDirName:"1_jod/4_specs/5_pillars",slug:"/jod/specs/pillars/",permalink:"/references/josp/jod/specs/pillars/",draft:!1,tags:[],version:"current",sidebarPosition:0,frontMatter:{slug:"./"},sidebar:"referencesSidebar",previous:{title:"Structure",permalink:"/references/josp/jod/specs/structure"},next:{title:"Container",permalink:"/references/josp/jod/specs/pillars/container"}},s={},p=[{value:"States",id:"states",level:2},{value:"Actions",id:"actions",level:2}],c={toc:p},u="wrapper";function d(e){let{components:t,...r}=e;return(0,a.kt)(u,(0,n.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"jod-pillars"},"JOD Pillars"),(0,a.kt)("p",null,"Pillars are the ",(0,a.kt)("strong",{parentName:"p"},"base config element for each feature exposed by a JOSP Object to the JOSP Services"),".\nThey expose, in a standard way, to JOSP Services a complex firmware calls. That means the JOSP Services can understand and interact with object's feature independently to the object's firmware."),(0,a.kt)("p",null,"Pillars can interact with object's firmware via Workers. Workers are the components that act as a bridge between the JOD Agent and his firmware.",(0,a.kt)("br",null),"\nDifferent Workers implementations are provided within the JOD Agent or extra can be added. Provided Workers implementation allow to interact most common firmwares types and external systems.",(0,a.kt)("br",null),"\nCheck out the ",(0,a.kt)("a",{parentName:"p",href:"../workers"},"Worker")," chapter for more info and how to choose the right workers for your object."),(0,a.kt)("p",null,"On JOSP side, Pillars expose all details and descriptions required to JOSP Services to interact with it.\nOn the other side, they configure the object's firmware to interact with hardware, other software, make web request or anything else you require."),(0,a.kt)("p",null,"Because of that, Pillars configs can be split in 2 groups:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"description pillar's configs: configs that describe the pillar to JOSP Services, depending on pillar type different properties become available."),(0,a.kt)("li",{parentName:"ul"},"firmware pillar's configs: firmware ","[workers]"," configs, includes the ",(0,a.kt)("inlineCode",{parentName:"li"},"listener"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"puller")," and ",(0,a.kt)("inlineCode",{parentName:"li"},"executor")," properties.")),(0,a.kt)("p",null,"For detailed Pillar's configuration please check the Pillar Type documentation and the ",(0,a.kt)("a",{parentName:"p",href:"#states"},"state"),"/",(0,a.kt)("a",{parentName:"p",href:"#actions"},"action")," specific configs."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"container"},"Container"),":",(0,a.kt)("br",null),"\nspecial pillar that can contains other pillars"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"boolean"},"Boolean"),":",(0,a.kt)("br",null),"\nexpose status like Open/Closed, Empty/Full, Enable/Disabled;",(0,a.kt)("br",null),"\nor actions like On/Off, Fill/Empty, Mute/Unmute..."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"range"},"Range"),":",(0,a.kt)("br",null),"\nexpose status like Temperature, Absorbed power;",(0,a.kt)("br",null),"\nor actions Control volume, Light dimming..."),(0,a.kt)("li",{parentName:"ul"},"Pillar #3:",(0,a.kt)("br",null),"\nNot yet available"),(0,a.kt)("li",{parentName:"ul"},"Pillar #4:",(0,a.kt)("br",null),"\nNot yet available")),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"states"},"States"),(0,a.kt)("p",null,"In a JOSP Objects, each exposed feature is defined as a State or an Action. ",(0,a.kt)("strong",{parentName:"p"},"States can wait for firmware's value updates and update JOSP Services")," on value changes."),(0,a.kt)("p",null,"On JOSP Services side, state pillars expose info on how to handle it. For example the State Range pillar allow define the min and max value, those values can be used by a JOSP Service to render the status value in a slider with the correct range."),(0,a.kt)("p",null,"Depending on firmware details, state's workers can run as background listeners or executed periodically to pull the state's value.\nTo configure the pillar to use a puller worker use the ",(0,a.kt)("inlineCode",{parentName:"p"},"puller")," property, otherwise use the ",(0,a.kt)("inlineCode",{parentName:"p"},"listener")," prop:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"listener"),": define firmware calls for listener's states and actions"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"puller"),": define firmware calls for puller's states and actions")),(0,a.kt)("p",null,"Those properties accept a string formatted with following pattern:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"{FirmwareProto}://{FirmwareConfigs}\n")),(0,a.kt)("p",null,"Where the ",(0,a.kt)("inlineCode",{parentName:"p"},"FirmwareProto")," must be one of the ",(0,a.kt)("strong",{parentName:"p"},"FirmwareProtocols registered in the ",(0,a.kt)("a",{parentName:"strong",href:"../configs"},"JOD Agent configs"))," file with the properties ",(0,a.kt)("inlineCode",{parentName:"p"},"jod.executor_mngr.pullers|listeners"),".",(0,a.kt)("br",null)),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"actions"},"Actions"),(0,a.kt)("p",null,"Actions inherits from States, so they can send status update but they can also ",(0,a.kt)("strong",{parentName:"p"},"receive commands requests from JOSP Services and translate those command to firmware calls"),".",(0,a.kt)("br",null)),(0,a.kt)("p",null,"Pillars that represent an Action must include the ",(0,a.kt)("inlineCode",{parentName:"p"},"executor")," property in their definition:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"executor"),": define firmware calls used by actions when receive a command request")),(0,a.kt)("p",null,"This property accept a list of worker configs string. Checkout the format and examples on ",(0,a.kt)("a",{parentName:"p",href:"../workers/"},"Workers")," page."))}d.isMDXComponent=!0}}]);